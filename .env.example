# ============================================================
# PROJETO: E-COMMERCE ANALYTICS HUB
# ============================================================

COMPOSE_PROJECT_NAME=ecommerce-analytics-hub
ENVIRONMENT=development
NETWORK_SUBNET=172.20.0.0/16

# VERSÕES
POSTGRES_VERSION=16
REDIS_VERSION=7-alpine
MINIO_VERSION=latest
KAFKA_VERSION=latest
SPARK_VERSION=3.5.0
PYTHON_VERSION=3.11

# POSTGRESQL
POSTGRES_CONTAINER_NAME=ecommerce_postgres
POSTGRES_HOST=postgres
POSTGRES_DB=ecommerce_hub
POSTGRES_USER=admin
POSTGRES_PASSWORD=admin123
POSTGRES_PORT=5432

# REDIS
REDIS_CONTAINER_NAME=ecommerce_redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# MINIO
MINIO_CONTAINER_NAME=ecommerce_minio
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ENDPOINT=minio:9000
MINIO_SECURE=False

# DELTA LAKE
DELTA_LAKE_BUCKET=delta-lake

# ZOOKEEPER
ZOOKEEPER_CONTAINER_NAME=ecommerce_zookeeper
ZOOKEEPER_CLIENT_PORT=2181
ZOOKEEPER_TICK_TIME=2000
ZOOKEEPER_PORT=2181

# KAFKA
KAFKA_CONTAINER_NAME=ecommerce_kafka
KAFKA_BROKER_ID=1
KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181
KAFKA_ADVERTISED_HOST=kafka
KAFKA_PORT=9092
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_REPLICATION_FACTOR=1
KAFKA_AUTO_CREATE_TOPICS=true
KAFKA_LOG_RETENTION_HOURS=168

# SPARK
SPARK_MASTER_CONTAINER_NAME=ecommerce_spark_master
SPARK_WORKER_CONTAINER_NAME=ecommerce_spark_worker
SPARK_MASTER_HOST=spark-master
SPARK_MASTER_PORT=7077
SPARK_MASTER_WEBUI_PORT=8080
SPARK_WORKER_WEBUI_PORT=8081
SPARK_WORKER_MEMORY=2G
SPARK_WORKER_CORES=2
SPARK_RPC_AUTH=no
SPARK_RPC_ENCRYPTION=no
SPARK_STORAGE_ENCRYPTION=no
SPARK_SSL=no

# DJANGO
DJANGO_CONTAINER_NAME=ecommerce_django
DJANGO_PORT=8000
DJANGO_SETTINGS_MODULE=config.settings
DEBUG=True
SECRET_KEY=django-insecure-dev-key-change-this-in-production-abc123xyz789
ALLOWED_HOSTS=*
DB_ENGINE=django.db.backends.postgresql
DB_HOST=postgres
DB_PORT=5432
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# MOCK GENERATOR (ao subir o stack, já começa a enviar eventos ao Kafka)
MOCK_CONTAINER_NAME=ecommerce_mocks
MOCK_AUTO_START=true
MOCK_INTERVAL_MIN=0.3
MOCK_INTERVAL_MAX=5

# SPARK STREAMING (consome Kafka e grava Delta Lake no MinIO)
SPARK_STREAMING_CONTAINER_NAME=ecommerce_spark_streaming

# MINIO INIT (cria o bucket para Delta Lake na primeira subida)
MINIO_INIT_CONTAINER_NAME=ecommerce_minio_init

# FRONTEND
FRONTEND_CONTAINER_NAME=ecommerce_frontend
FRONTEND_PORT=3000
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000